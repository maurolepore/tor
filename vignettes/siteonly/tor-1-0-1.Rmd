---
title: "tor 1.0.0"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{tor 1.0.0}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(tor)
library(magrittr)
```

## Introduction

I'm happy to announce that __tor__ 1.0.1 in now on CRAN! __tor__ (to-R) helps you to read multiple files from a single directory into R, as simply as possible. It makes a small but frequent task less painful.

You can install __tor__ with:

```
install.packages("tor")
```

## List common files

`list_csv()`, `list_rdata()`, and friends, import multiple common files from a directory into a list. They default to importing from the working directory.

```{r}
dir()

list_csv()
```

You can specify a `path` to import from any directory. `regexp`, `ignore.case`, and `invert` allow you to pick specific files.

```{r}
(path_mixed <- tor_example("mixed"))
dir(path_mixed)

list_rdata(
  path_mixed, 
  regexp = "[.]RData", 
  ignore.case = FALSE, 
  invert = FALSE
)
```

## Load common files

Instead of creating a list, the `load_*()` variants import the data into an environment -- the global environment by default.

```{r}
dir()

load_csv()

# Each dataframe is now available in the global environment
csv1
csv2
```

## Beyond common files

`list_any()` allows you to import files of any format into a list. You need to supply a function, `.f`, able to import a single file.

```{r}
(path_csv <- tor_example("csv"))
dir(path_csv)

list_any(path_csv, readr::read_csv)
```

`.f` can be an anonymous function or a __purrr__-like formula (powered by [__rlang__](https://rlang.r-lib.org/)).

```{r}
(path_rdata <- tor_example("rdata"))
dir(path_rdata)

path_rdata %>% 
  list_any(function(x) get(load(x)))

# Same
path_rdata %>% 
  list_any(~get(load(.x)))
```

